"use strict";(self["webpackChunkfronted_vue"]=self["webpackChunkfronted_vue"]||[]).push([[761],{7737:function(e,r,t){var l=t(5398);class o{create(e){return l.A.post("/shop/simple-order",e)}get(e){return l.A.get(`/shop/simple-order/${e}`)}}r.A=new o},6761:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var l=t(6768),o=t(4232);const n=(0,l.Lk)("h1",null,"SimpleApproval",-1),s={class:"col-md-12"},a={class:"table"},p=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("sono"),(0,l.Lk)("br"),(0,l.eW)(" ")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("order"),(0,l.Lk)("br"),(0,l.eW)("Date")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("order"),(0,l.Lk)("br"),(0,l.eW)("Status")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("product"),(0,l.Lk)("br"),(0,l.eW)("Amount")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("delivery"),(0,l.Lk)("br"),(0,l.eW)("Amount")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("order"),(0,l.Lk)("br"),(0,l.eW)("Amount")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("delivery"),(0,l.Lk)("br"),(0,l.eW)("Addr")]),(0,l.Lk)("th",{scope:"col"},[(0,l.eW)("delivery"),(0,l.Lk)("br"),(0,l.eW)("Msg")])])],-1),d=(0,l.Lk)("h1",null,"SimpleApproval Admin Panel",-1),u={class:"row d-flex justify-content-end"};function c(e,r,t,c,i,k){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",null,[n,(0,l.Lk)("div",s,[(0,l.Lk)("table",a,[p,(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.sono),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.orderDate),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.orderStatus),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.productAmount),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.deliveryAmount),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.orderAmount),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.deliveryAddr),1),(0,l.Lk)("td",null,(0,o.v_)(i.simpleOrder?.deliveryMsg),1)])])])]),d,(0,l.Lk)("div",u,[(0,l.Lk)("button",{type:"button",class:"btn btn-danger w-25 me-3",onClick:r[0]||(r[0]=(...e)=>k.cancelApproval&&k.cancelApproval(...e))}," 결제 취소 "),(0,l.Lk)("button",{type:"button",class:"btn btn-warning w-25",onClick:r[1]||(r[1]=(...e)=>k.confirmApproval&&k.confirmApproval(...e))}," 결제 확정 ")])])])}t(4114);var i=t(7737),k=t(5398);class v{create(e){return k.A.post("/shop/simple-approval",e)}}var m=new v,L={data(){return{simpleOrder:null,simpleApproval:null,sono:this.$route.params.sono}},methods:{async retrieveSimpleOrder(){try{let e=await i.A.get(this.sono);this.simpleOrder=e.data}catch(e){console.log(e)}},async confirmApproval(){let e=new Date,r=`${e.getFullYear()}-${e.getMonth()}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`,t={sano:null,sono:this.simpleOrder?.sono,approvalDate:r,approvalAmount:this.simpleOrder?.orderAmount};try{let e=await m.create(t);console.log(e.data),alert("결제가 완료되었습니다."),this.retrieveSimpleOrder()}catch(l){console.log(l)}},cancelApproval(){alert("결제가 취소되었습니다."),this.$router.push("/simple-order")}},mounted(){this.retrieveSimpleOrder()}},h=t(1241);const A=(0,h.A)(L,[["render",c]]);var b=A}}]);
//# sourceMappingURL=761.8d620727.js.map