{"version":3,"file":"js/761.8d620727.js","mappings":"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","sources":["webpack://fronted_vue/./src/services/shop/simple-product/SimpleOrderService.js","webpack://fronted_vue/./src/views/simple-product/SimpleApprovalList.vue","webpack://fronted_vue/./src/services/shop/simple-product/SimpleApprovalService.js","webpack://fronted_vue/./src/views/simple-product/SimpleApprovalList.vue?6a05"],"sourcesContent":["// SimpleOrderService.js\r\n// 주문 공통 CRUD 함수\r\nimport http from \"@/utils/http-common\";\r\n\r\nclass SimpleOrderService{\r\n    // TODO: 장바구니 저장함수\r\n    create(data) {\r\n        return http.post(\"/shop/simple-order\", data);\r\n    }\r\n    // TODO: 주문 상세조회 함수 (주문은 하나씩 일어남, 전체조회 할 필요 없음)\r\n    get(sono){\r\n        return http.get(`/shop/simple-order/${sono}`);\r\n    }\r\n}\r\n\r\nexport default new SimpleOrderService;","<template>\r\n  <div>\r\n    <div>\r\n      <h1>SimpleApproval</h1>\r\n\r\n      <div class=\"col-md-12\">\r\n        <!-- {/* table start */} -->\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">sono<br />&nbsp;</th>\r\n              <th scope=\"col\">order<br />Date</th>\r\n              <th scope=\"col\">order<br />Status</th>\r\n              <th scope=\"col\">product<br />Amount</th>\r\n              <th scope=\"col\">delivery<br />Amount</th>\r\n              <th scope=\"col\">order<br />Amount</th>\r\n              <th scope=\"col\">delivery<br />Addr</th>\r\n              <th scope=\"col\">delivery<br />Msg</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <!-- es6 사용법 : 변수? :변수가 null 이면 undefined 로 바꿔줌 : null 방지 방법 -->\r\n              <!-- 프론트 객체 = 백엔드 simpleOrder 엔티티클래스의 속성명 -->\r\n              <td>{{ simpleOrder?.sono }}</td>\r\n              <td>{{ simpleOrder?.orderDate }}</td>\r\n              <td>{{ simpleOrder?.orderStatus }}</td>\r\n              <td>{{ simpleOrder?.productAmount }}</td>\r\n              <td>{{ simpleOrder?.deliveryAmount }}</td>\r\n              <td>{{ simpleOrder?.orderAmount }}</td>\r\n              <td>{{ simpleOrder?.deliveryAddr }}</td>\r\n              <td>{{ simpleOrder?.deliveryMsg }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <!-- {/* table end */} -->\r\n      </div>\r\n\r\n      <h1>SimpleApproval Admin Panel</h1>\r\n\r\n      <div class=\"row d-flex justify-content-end\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-danger w-25 me-3\"\r\n          @click=\"cancelApproval\"\r\n        >\r\n          결제 취소\r\n        </button>\r\n\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-warning w-25\"\r\n          @click=\"confirmApproval\"\r\n        >\r\n          결제 확정\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport SimpleOrderService from \"@/services/shop/simple-product/SimpleOrderService\";\r\nimport SimpleApprovalService from \"@/services/shop/simple-product/SimpleApprovalService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      simpleOrder: null, // 주문 객체\r\n      simpleApproval: null, // 결제 객체\r\n      sono: this.$route.params.sono, // 주문번호\r\n    };\r\n  },\r\n  methods: {\r\n    // TODO: 주문 상세조회 함수 : 화면이 뜰 때 실행\r\n    async retrieveSimpleOrder() {\r\n      try {\r\n        let response = await SimpleOrderService.get(this.sono);\r\n        this.simpleOrder = response.data;\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n    // TODO: 결제 확정 함수★     : 결제 버튼\r\n    async confirmApproval() {\r\n      // TODO: 1) 결제날짜 : 현재날짜\r\n      let now = new Date();\r\n      // 날짜 포맷 : yyyy-mm-dd hh:mi:ss\r\n      let formatNow = `${now.getFullYear()}-${now.getMonth()}-${now.getDate()} ${now.getHours()}:${now.getMinutes()}:${now.getSeconds()}`;\r\n\r\n      // TODO: 2) 임시 객체 정의\r\n      let data = {\r\n        sano: null,                     // 결제번호    \r\n        sono: this.simpleOrder?.sono,   // 상세조회했기 때문에 값을 가지고 있음\r\n        approvalDate: formatNow,        // 결제날짜\r\n        approvalAmount: this.simpleOrder?.orderAmount // 주문금액 = 결제금액이라서 값을 가지고 옴옴\r\n      }\r\n      // TODO: 3) 결제 테이블에 insert 실행\r\n      // TODO: 공통 결제 추가 서비스 함수 실행\r\n      try{\r\n        let response = await SimpleApprovalService.create(data);\r\n        console.log(response.data);\r\n        alert(\"결제가 완료되었습니다.\");\r\n        // TODO: 주문상태 : 50001(주문완료) -> 50002(결제완료)로 바뀜 : 주문테이블 상세조회페이지 재조회\r\n        this.retrieveSimpleOrder();\r\n      } catch(e){\r\n        console.log(e);\r\n      }\r\n    },\r\n    // TODO: 결제 취소 함수       : 결제 취소 버튼\r\n    cancelApproval() {\r\n        alert(\"결제가 취소되었습니다.\")\r\n      this.$router.push(\"/simple-order\");\r\n    },\r\n  },\r\n  mounted() {\r\n    this.retrieveSimpleOrder(); // 화면 뜰 때 주문전체 조회 실행\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\"></style>","// SimpleOrderService.js\r\n// 주문 공통 CRUD 함수\r\nimport http from \"@/utils/http-common\";\r\n\r\nclass SimpleApprovalService{\r\n    // TODO: 장바구니 저장함수\r\n    create(data) {\r\n        return http.post(\"/shop/simple-approval\", data);\r\n    }\r\n}\r\n\r\nexport default new SimpleApprovalService;","import { render } from \"./SimpleApprovalList.vue?vue&type=template&id=359e09c9\"\nimport script from \"./SimpleApprovalList.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleApprovalList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["SimpleOrderService","create","data","http","post","get","sono","_createElementVNode","class","scope","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","simpleOrder","orderDate","orderStatus","productAmount","deliveryAmount","orderAmount","deliveryAddr","deliveryMsg","_hoisted_5","_hoisted_6","type","onClick","_cache","args","$options","cancelApproval","confirmApproval","SimpleApprovalService","simpleApproval","this","$route","params","methods","retrieveSimpleOrder","response","e","console","log","now","Date","formatNow","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","sano","approvalDate","approvalAmount","alert","$router","push","mounted","__exports__","render"],"sourceRoot":""}